from sqlmodel import create_engine, Session, SQLModel\nfrom sqlalchemy.orm import sessionmaker\nfrom .config import settings\nfrom typing import Generator\nimport os\n\n# Database URL from environment variable\nDATABASE_URL = os.getenv("DATABASE_URL", settings.database_url)\n\n# Create sync engine\nengine = create_engine(DATABASE_URL, echo=True)\n\n# Create session maker for sync sessions\nSessionLocal = sessionmaker(bind=engine, expire_on_commit=False)\n\nasync def create_db_and_tables():\n    SQLModel.metadata.create_all(engine)\n\ndef get_session() -> Generator[Session, None, None]:\n    with SessionLocal() as session:\n        yield session
